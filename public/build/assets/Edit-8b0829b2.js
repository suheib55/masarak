import{Q as h,r as l,o as m,c,h as n,u as C,w as g,F as U,Z as V,d as t,e as u,v as p,f as _,G as j,t as E,N as M}from"./app-6ead19b6.js";import{_ as N}from"./MainLayout-70b4c895.js";import D from"./UpdatePasswordForm-7eac320c.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import"./TextInput-916fff33.js";import"./PrimaryButton-79e00f14.js";const F={class:"py-12"},P={class:"max-w-3xl mx-auto sm:px-6 lg:px-8 space-y-6"},S={class:"bg-white dark:bg-gray-800 p-6 shadow rounded-lg transition"},T={class:"flex justify-center mb-6"},$={class:"relative w-36 h-36"},I=["src"],L={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},R=["disabled"],z={key:0,class:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},G={key:0,class:"mt-4 bg-green-100 text-green-800 px-4 py-2 rounded shadow text-sm"},H={class:"bg-white dark:bg-gray-800 p-6 shadow rounded-lg transition"},O={__name:"Edit",setup(Q){const a=h().props.auth.user,f=l((a==null?void 0:a.name)||""),v=l((a==null?void 0:a.email)||""),x=l(a.faculty),b=l(a.major),d=l(null),y=l(a.profile_image?`/storage/${a.profile_image}`:"/default-avatar.png"),i=l(""),o=l(!1);function w(r){const e=r.target.files[0];e&&(d.value=e,y.value=URL.createObjectURL(e))}function k(){if(!d.value)return;o.value=!0;const r=new FormData;r.append("image",d.value),M.post("/profile",r,{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{i.value="Profile image updated successfully.",o.value=!1,setTimeout(()=>i.value="",3e3)},onError:e=>{console.error(e),o.value=!1}})}return(r,e)=>(m(),c(U,null,[n(C(V),{title:"My Profile"}),n(N,null,{header:g(()=>e[4]||(e[4]=[t("h2",{class:"font-semibold text-xl text-purple-800 dark:text-purple-300 leading-tight"},"My Profile",-1)])),default:g(()=>[t("div",F,[t("div",P,[t("div",S,[t("div",T,[t("div",$,[t("img",{src:y.value,class:"w-36 h-36 rounded-full object-cover border-4 border-purple-300 shadow"},null,8,I),t("input",{type:"file",accept:"image/*",onChange:w,class:"absolute inset-0 opacity-0 cursor-pointer"},null,32)])]),t("div",L,[t("div",null,[e[5]||(e[5]=t("label",{class:"block font-medium text-gray-700 dark:text-gray-300 mb-1"},"Name",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>f.value=s),disabled:"",type:"text",class:"w-full border rounded px-3 py-2 dark:bg-gray-700 dark:text-white"},null,512),[[p,f.value]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block font-medium text-gray-700 dark:text-gray-300 mb-1"},"Email",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>v.value=s),disabled:"",type:"email",class:"w-full border rounded px-3 py-2 dark:bg-gray-700 dark:text-white"},null,512),[[p,v.value]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block font-medium text-gray-700 dark:text-gray-300 mb-1"},"College",-1)),u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>x.value=s),disabled:"",type:"text",class:"w-full border rounded px-3 py-2 dark:bg-gray-700 dark:text-white"},null,512),[[p,x.value]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block font-medium text-gray-700 dark:text-gray-300 mb-1"},"Major",-1)),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>b.value=s),disabled:"",type:"text",class:"w-full border rounded px-3 py-2 dark:bg-gray-700 dark:text-white"},null,512),[[p,b.value]])])]),t("button",{onClick:k,disabled:o.value||!d.value,class:"mt-6 bg-purple-700 hover:bg-purple-800 text-white px-6 py-2 rounded flex items-center gap-2"},[o.value?(m(),c("svg",z,e[9]||(e[9]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]))):_("",!0),e[10]||(e[10]=t("span",null,"Save Changes",-1))],8,R),n(j,{name:"fade"},{default:g(()=>[i.value?(m(),c("div",G,E(i.value),1)):_("",!0)]),_:1})]),t("div",H,[n(D,{class:"max-w-xl"})])])])]),_:1})],64))}},X=B(O,[["__scopeId","data-v-bc2a14b1"]]);export{X as default};
